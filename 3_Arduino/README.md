# ‚ö° Arduino Code - ESP32 2-Axis Controller

## üìÅ ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ

```
3_Arduino/
‚îî‚îÄ‚îÄ All_IdaNEW/
    ‚îî‚îÄ‚îÄ All_IdaNEW.ino          # Arduino Code ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP32
```

---

## üîå Hardware Requirements

### ESP32 Board
- ESP32 DevKit V1 (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤)
- USB Cable (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î)

### Motors & Drivers
- ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå 2 ‡∏ï‡∏±‡∏ß (‡πÅ‡∏Å‡∏ô X ‡πÅ‡∏•‡∏∞ Y)
- L298N Motor Driver 2 ‡∏ï‡∏±‡∏ß (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡πà‡∏≤)

### Encoders
- Rotary Encoder 2 ‡∏ï‡∏±‡∏ß
- ‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÅ‡∏Å‡∏ô X ‡πÅ‡∏•‡∏∞ Y

### Water Pump
- Relay Module 1 ‡∏ä‡πà‡∏≠‡∏á
- ‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ 12V

---

## üìç Pin Connections

### Encoders
```
Encoder X:
  - Pin A: GPIO 13
  - Pin B: GPIO 12

Encoder Y:
  - Pin A: GPIO 14
  - Pin B: GPIO 27
```

### Motor X (L298N #1)
```
Motor Driver:
  - IN1: GPIO 26
  - IN2: GPIO 25
  - ENA: GPIO 18 (PWM)

Motor:
  - OUT1, OUT2 ‚Üí Motor X
```

### Motor Y (L298N #2)
```
Motor Driver:
  - IN3: GPIO 16
  - IN4: GPIO 17
  - ENB: GPIO 19 (PWM)

Motor:
  - OUT3, OUT4 ‚Üí Motor Y
```

### Water Pump (Relay)
```
Relay Module:
  - Signal: GPIO 21
  - VCC: 5V
  - GND: GND

Pump:
  - + ‚Üí Relay NO (Normally Open)
  - - ‚Üí GND
```

---

## üîß Arduino IDE Setup

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Arduino IDE

‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î: https://www.arduino.cc/en/software

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏û‡∏¥‡πà‡∏° ESP32 Board

1. ‡πÄ‡∏õ‡∏¥‡∏î Arduino IDE
2. File ‚Üí Preferences
3. Additional Board Manager URLs:
   ```
   https://dl.espressif.com/dl/package_esp32_index.json
   ```
4. Tools ‚Üí Board ‚Üí Boards Manager
5. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "ESP32" ‚Üí Install

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Board

1. Tools ‚Üí Board ‚Üí ESP32 Arduino
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "ESP32 Dev Module" (‡∏´‡∏£‡∏∑‡∏≠ board ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Port

1. ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö ESP32 ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå
2. Tools ‚Üí Port ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å COM Port ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î

1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `All_IdaNEW.ino`
2. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° Upload (‚Üí)
3. ‡∏£‡∏≠‡∏à‡∏ô‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à

---

## üì° Serial Commands

### Manual Motor Control

```cpp
// ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡∏ô X
MOTOR:X_FWD     // ‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Å‡∏ô X
MOTOR:X_BACK    // ‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡∏ô X

// ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡∏ô Y
MOTOR:Y_FWD     // ‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Å‡∏ô Y
MOTOR:Y_BACK    // ‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡∏ô Y

// ‡∏´‡∏¢‡∏∏‡∏î
MOTOR:STOP      // ‡∏´‡∏¢‡∏∏‡∏î‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå
```

### Position Control

```cpp
// ‡πÑ‡∏õ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
MOVETO:1        // ‡πÑ‡∏õ Position 1 (HOME: X=0, Y=0)
MOVETO:2        // ‡πÑ‡∏õ Position 2 (X=0, Y=-4000)
MOVETO:3        // ‡πÑ‡∏õ Position 3 (X=-4000, Y=0)
MOVETO:4        // ‡πÑ‡∏õ Position 4 (X=-4000, Y=-4000)
```

### Mode Control

```cpp
MODE:MANUAL     // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Manual Mode
MODE:AUTO       // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Auto Sequence Mode
```

### Pump Control

```cpp
PUMP:ON         // ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ (Manual mode ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
PUMP:OFF        // ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥

// ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡πä‡∏° (‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
PUMP_DURATION:5000    // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
PUMP_DURATION:10000   // ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

### Alarm Control

```cpp
// ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ Alarm (slot 0-2, time HH:MM)
ALARM:0,14:30   // ‡∏ï‡∏±‡πâ‡∏á Alarm 1 ‡πÄ‡∏ß‡∏•‡∏≤ 14:30
ALARM:1,08:00   // ‡∏ï‡∏±‡πâ‡∏á Alarm 2 ‡πÄ‡∏ß‡∏•‡∏≤ 08:00
ALARM:2,18:00   // ‡∏ï‡∏±‡πâ‡∏á Alarm 3 ‡πÄ‡∏ß‡∏•‡∏≤ 18:00

// ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Alarm
CANCEL:0        // ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Alarm 1
CANCEL:1        // ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Alarm 2
CANCEL:2        // ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å Alarm 3
```

### Auto Sequence

```cpp
START_SEQUENCE  // ‡πÄ‡∏£‡∏¥‡πà‡∏° Auto Sequence ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                // (‡∏õ‡∏Å‡∏ï‡∏¥‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤ Alarm)
```

### Status & Reset

```cpp
PING            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ ‚Üí ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö PONG
STATUS          // ‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
RESET           // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤ Encoder ‡πÄ‡∏õ‡πá‡∏ô 0
```

### Color Data (‡∏à‡∏≤‡∏Å Python)

```cpp
// Python ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏µ‡∏°‡∏≤‡∏ó‡∏∏‡∏Å‡πÜ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
COLOR:yellow,green,purple,yellowCount,greenCount,purpleCount

// ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:
COLOR:1,0,0,3,0,0     // ‡∏û‡∏ö‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á 3 ‡∏à‡∏∏‡∏î
COLOR:0,1,0,0,5,0     // ‡∏û‡∏ö‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß 5 ‡∏à‡∏∏‡∏î
```

---

## üîÑ System States

### Move States
- `IDLE` - ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà
- `MOVING_X` - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡∏ô X
- `MOVING_Y` - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡∏ô Y

### Operation Modes
- `MANUAL` - ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á
- `AUTO_SEQUENCE` - ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏° Alarm

### Pump States
- `NOT_WAITING` - ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏≠
- `WAITING_BEFORE_PUMP` - ‡∏£‡∏≠ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°
- `PUMPING` - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°

---

## üìä Auto Sequence Flow

```
1. ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤ Alarm (‡πÄ‡∏ä‡πà‡∏ô 14:30)
2. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô AUTO mode

3. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 14:30:
   ‚îú‚îÄ ‡πÑ‡∏õ HOME (Position 1)
   ‚îú‚îÄ ‡∏£‡∏≠ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
   ‚îú‚îÄ ‡∏£‡∏≠ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
   ‚îú‚îÄ ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥ (‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á)
   ‚îÇ
   ‚îú‚îÄ ‡πÑ‡∏õ Position 2
   ‚îú‚îÄ ‡∏£‡∏≠ 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
   ‚îú‚îÄ ‡∏£‡∏≠ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
   ‚îú‚îÄ ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°‡∏ô‡πâ‡∏≥
   ‚îÇ
   ‚îú‚îÄ ‡πÑ‡∏õ Position 3
   ‚îú‚îÄ (‡∏ó‡∏≥‡∏ã‡πâ‡∏≥)
   ‚îÇ
   ‚îú‚îÄ ‡πÑ‡∏õ Position 4
   ‚îú‚îÄ (‡∏ó‡∏≥‡∏ã‡πâ‡∏≥)
   ‚îÇ
   ‚îî‚îÄ ‡∏Å‡∏•‡∏±‡∏ö HOME ‚Üí ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
```

---

## üîß ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå

```cpp
// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 12-13
int motorSpeed_X = 150;  // ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏Å‡∏ô X (0-255)
int motorSpeed_Y = 80;   // ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏Å‡∏ô Y (0-255)
```

### ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á

```cpp
// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 54-57 (‡πÉ‡∏ô setTargetPosition)
case 1: targetEncoderX = 0; targetEncoderY = 0; break;
case 2: targetEncoderX = 0; targetEncoderY = -4000; break;
case 3: targetEncoderX = -4000; targetEncoderY = 0; break;
case 4: targetEncoderX = -4000; targetEncoderY = -4000; break;
```

### ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á

```cpp
// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 37
const long TIMED_SEQUENCE_WAIT_TIME = 5000;  // 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

### ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏±‡πä‡∏°

```cpp
// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 46
const long PUMP_WAIT_TIME = 1000;  // 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

### ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Tolerance

```cpp
// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 29
const int ENCODER_TOLERANCE = 20;  // ‡∏¢‡∏¥‡πà‡∏á‡∏ô‡πâ‡∏≠‡∏¢ = ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏´‡∏¢‡∏∏‡∏î)
```

---

## üêõ Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡∏û‡∏ö Port ‡∏´‡∏£‡∏∑‡∏≠ Driver ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á CH340 Driver (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP32 ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å)
2. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô USB Cable
3. ‡∏Å‡∏î Boot button ‡∏Ç‡∏ì‡∏∞‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Pin ‡∏ú‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠ Motor Driver ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡πÑ‡∏ü

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Pin Connections
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á Motor Driver (12V)
3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Manual Control: `MOTOR:X_FWD`

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Encoder ‡∏ô‡∏±‡∏ö‡∏ú‡∏¥‡∏î

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏™‡∏≤‡∏¢ Encoder ‡∏´‡∏•‡∏ß‡∏° ‡∏´‡∏£‡∏∑‡∏≠ Pin ‡∏ú‡∏¥‡∏î

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Pin A, B
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡∏¢‡∏ï‡πà‡∏≠
3. ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á `RESET` ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏õ‡∏±‡πä‡∏°‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Relay ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏ü‡πÑ‡∏°‡πà‡∏û‡∏≠

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Pin 21
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á Relay (5V)
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏õ‡∏±‡πä‡∏° (NO/NC)
4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö: `PUMP:ON` ‡πÅ‡∏•‡∏∞ `PUMP:OFF`

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Auto Sequence ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà Manual Mode ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ START_SEQUENCE

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏™‡πà‡∏á `MODE:AUTO`
2. ‡∏ï‡∏±‡πâ‡∏á Alarm: `ALARM:0,14:30`
3. ‡∏£‡∏≠‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πà‡∏á `START_SEQUENCE` ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

---

## üì° Serial Monitor

### ‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor
- Tools ‚Üí Serial Monitor
- Baud Rate: **115200**

### ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô

```
========================================
ESP32 2-Axis Controller
Serial Mode - Python Control Only
========================================
Ready for connection
Hardware ready
========================================
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

```
>>> PING
PONG

>>> STATUS
STATUS:X=0,Y=0,MODE=MANUAL,MOVING=NO,YELLOW=NO,GREEN=NO,YC=0,GC=0

>>> MOTOR:X_FWD
ACK:MOTOR_X_FORWARD
```

---

## üîó ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Python

### Python ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô Serial:

```python
# ‡πÉ‡∏ô flask_controller.py
arduino.send("PING\n")
arduino.send("STATUS\n")
arduino.send("MOTOR:X_FWD\n")
arduino.send("MOVETO:2\n")
arduino.send("PUMP:ON\n")
```

### Arduino ‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö:

```cpp
Serial.println("PONG");
Serial.println("ACK:MOTOR_X_FORWARD");
Serial.println("Movement complete");
Serial.println("Pump: ON");
```

---

## üìû ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠

### ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
- HSV Version: `../1_HSV_Version/`
- Segmentation: `../2_Segmentation_Version/`
- Documentation: `../4_Documentation/`

### Resources
- [ESP32 Datasheet](https://www.espressif.com/en/products/socs/esp32)
- [L298N Tutorial](https://lastminuteengineers.com/l298n-dc-stepper-driver-arduino-tutorial/)
- [Rotary Encoder Tutorial](https://www.arduino.cc/en/Tutorial/Encoder)

---

**Board:** ESP32 DevKit V1
**Baud Rate:** 115200
**Voltage:** 3.3V (Logic), 5V (Motors/Relay)
**Flash Size:** 4MB
